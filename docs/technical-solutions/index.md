# 技术方案

本章节详细介绍 ZZFrame 的技术方案，包括架构设计、认证授权、权限管理、缓存、队列等核心功能的技术实现。

## 技术栈

### 核心框架

- **GoFrame v2**: Go 的企业级应用开发框架
- **Casbin v2**: 强大的访问控制库
- **JWT**: JSON Web Token 认证
- **MySQL/SQLite**: 关系型数据库
- **Redis**: 内存数据库

### 主要功能模块

- **认证授权**: 基于 JWT 的 Token 认证
- **权限管理**: 基于 Casbin 的 RBAC 权限控制
- **缓存系统**: 文件缓存和 Redis 缓存
- **消息队列**: 磁盘队列和 Redis 队列
- **日志系统**: 结构化日志记录
- **文件存储**: 支持多种存储方式
- **验证码**: 图形验证码
- **加密工具**: 多种加密算法

## 快速链接

- [架构设计](./architecture)
- [认证授权](./authentication)
- [权限管理](./authorization)
- [缓存方案](./cache)
- [队列方案](./queue)
- [日志方案](./logging)

## 核心特性

### 高性能

- 基于 GoFrame v2，提供卓越的性能
- 支持数据库连接池
- 支持缓存减少数据库压力
- 支持消息队列异步处理

### 安全性

- JWT Token 认证
- RBAC 权限控制
- 密码加密存储
- SQL 注入防护
- XSS 攻击防护

### 易扩展

- 清晰的分层架构
- 接口驱动设计
- 支持自定义中间件
- 支持插件扩展

### 易维护

- 完善的日志系统
- 统一的错误处理
- 清晰的代码结构
- 完善的文档

## 架构特点

```
┌─────────────────────────────────────────┐
│         Client (Web/Mobile/API)          │
└─────────────────────────────────────────┘
                    │
                    ↓
┌─────────────────────────────────────────┐
│         Middleware Layer                │
│  (Auth/Permission/Logger/CORS)          │
└─────────────────────────────────────────┘
                    │
                    ↓
┌─────────────────────────────────────────┐
│         Controller Layer                │
│  (HTTP Request Handling)                │
└─────────────────────────────────────────┘
                    │
                    ↓
┌─────────────────────────────────────────┐
│         Service Layer                   │
│  (Business Logic)                       │
└─────────────────────────────────────────┘
                    │
                    ↓
┌─────────────────────────────────────────┐
│         DAO Layer                       │
│  (Data Access)                          │
└─────────────────────────────────────────┘
                    │
                    ↓
┌─────────────────────────────────────────┐
│         Database/Cache/Queue            │
│  (Data Storage)                         │
└─────────────────────────────────────────┘
```

## 技术亮点

### 1. 统一的配置管理

支持多种配置方式：
- YAML/JSON/TOML 配置文件
- 环境变量
- 命令行参数

### 2. 灵活的认证方式

- JWT Token 认证
- 支持多端登录
- Token 刷新机制
- 超级管理员特权

### 3. 精细的权限控制

- 基于 Casbin 的 RBAC 模型
- 支持角色-权限关联
- 支持动态权限验证
- 支持菜单级权限控制

### 4. 高性能缓存

- 文件缓存和 Redis 缓存
- 支持缓存过期时间
- 支持缓存标签
- 支持缓存清除

### 5. 可靠的队列系统

- 磁盘队列和 Redis 队列
- 支持批量处理
- 支持队列持久化
- 支持消息重试

### 6. 完善的日志系统

- 结构化日志
- 日志级别控制
- 日志文件轮转
- 操作日志记录

## 下一步

选择一个技术主题深入了解：

1. 了解 [架构设计](./architecture) 了解框架的整体设计
2. 学习 [认证授权](./authentication) 了解认证机制
3. 学习 [权限管理](./authorization) 了解权限控制
